{
  "dashboard": {
    "id": null,
    "title": "Memory Dashboard",
    "panels": [
      {
        "title": "Memory Usage - Web Server",
        "type": "timeseries",
        "datasource": "{{ datasource_name }}",
        "targets": [
          {
            "expr": "node_memory_MemFree_bytes{instance=\"{{ web_ip }}:9100\"} / {{ bytes_in_gb }}",
            "format": "time_series",
            "legendFormat": "MemFree"
          },
          {
            "expr": "node_memory_MemTotal_bytes{instance=\"{{ web_ip }}:9100\"} / {{ bytes_in_gb }}",
            "format": "time_series",
            "legendFormat": "MemTotal"
          },
          {
            "expr": "node_memory_MemAvailable_bytes{instance=\"{{ web_ip }}:9100\"} / {{ bytes_in_gb }}",
            "format": "time_series",
            "legendFormat": "MemAvailable"
          }
        ],
        "legend": {
          "show": true,
          "values": false,
          "min": false,
          "max": false,
          "current": false,
          "total": false,
          "avg": false
        },
        "fieldConfig": {
          "defaults": {
            "unit": "gigabytes"
          }
        }
      },
      {
        "title": "Memory Usage - Worker Server",
        "type": "timeseries",
        "datasource": "{{ datasource_name }}",
        "targets": [
          {
            "expr": "node_memory_MemFree_bytes{instance=\"{{ worker_ip }}:9100\"} / {{ bytes_in_gb }}",
            "format": "time_series",
            "legendFormat": "MemFree"
          },
          {
            "expr": "node_memory_MemTotal_bytes{instance=\"{{ worker_ip }}:9100\"} / {{ bytes_in_gb }}",
            "format": "time_series",
            "legendFormat": "MemTotal"
          },
          {
            "expr": "node_memory_MemAvailable_bytes{instance=\"{{ worker_ip }}:9100\"} / {{ bytes_in_gb }}",
            "format": "time_series",
            "legendFormat": "MemAvailable"
          }
        ],
        "legend": {
          "show": true,
          "values": false,
          "min": false,
          "max": false,
          "current": false,
          "total": false,
          "avg": false
        },
        "fieldConfig": {
          "defaults": {
            "unit": "gigabytes"
          }
        }
      },
      {
        "title": "Memory Usage - Ansible Server",
        "type": "timeseries",
        "datasource": "{{ datasource_name }}",
        "targets": [
          {
            "expr": "node_memory_MemFree_bytes{instance=\"localhost:9100\"} / {{ bytes_in_gb }}",
            "format": "time_series",
            "legendFormat": "MemFree"
          },
          {
            "expr": "node_memory_MemTotal_bytes{instance=\"localhost:9100\"} / {{ bytes_in_gb }}",
            "format": "time_series",
            "legendFormat": "MemTotal"
          },
          {
            "expr": "node_memory_MemAvailable_bytes{instance=\"localhost:9100\"} / {{ bytes_in_gb }}",
            "format": "time_series",
            "legendFormat": "MemAvailable"
          }
        ],
        "legend": {
          "show": true,
          "values": false,
          "min": false,
          "max": false,
          "current": false,
          "total": false,
          "avg": false
        },
        "fieldConfig": {
          "defaults": {
            "unit": "gigabytes"
          }
        }
      }
    ],
    "rows": [],
    "schemaVersion": 21,
    "version": 1
  },
  "overwrite": false
}
